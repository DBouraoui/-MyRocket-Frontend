<div class="fixed bottom-0 left-0 right-0 z-50" *ngIf="showBanner">
  <!-- Bannière principale avec design amélioré -->
  <div
    class="bg-gradient-to-r from-gray-900 via-indigo-950 to-gray-900 backdrop-blur-md border-t border-white/10 shadow-xl"
  >
    <div class="container mx-auto px-4 py-5">
      <div class="max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-6">
        <!-- Icône cookies -->
        <div
          class="hidden md:flex shrink-0 w-14 h-14 bg-blue-600/20 rounded-full items-center justify-center backdrop-blur-sm border border-blue-500/20"
        >
          <i class="pi pi-shield text-blue-400 text-2xl"></i>
        </div>

        <!-- Texte d'information -->
        <div class="flex-grow text-gray-200 text-sm md:text-base">
          <p class="leading-relaxed">
            Ce site utilise uniquement des cookies techniques indispensables pour assurer le bon
            fonctionnement de nos services.
            <span class="hidden md:inline text-blue-300"
              >Aucune donnée publicitaire, analytique ou de suivi de votre navigation n'est
              collectée.</span
            >
          </p>
        </div>

        <!-- Boutons d'action -->
        <div class="flex gap-3 whitespace-nowrap">
          <p-button
            label="En savoir plus"
            severity="secondary"
            [text]="true"
            [rounded]="true"
            styleClass="text-blue-300 hover:text-blue-200 hover:bg-blue-600/10"
            (onClick)="openCookieInfo($event)"
          ></p-button>
          <p-button
            label="Refuser"
            severity="secondary"
            [outlined]="true"
            [rounded]="true"
            styleClass="border-gray-600 text-gray-300"
            (onClick)="rejectCookies()"
          ></p-button>
          <p-button
            label="Accepter"
            severity="primary"
            [rounded]="true"
            styleClass="bg-blue-600 hover:bg-blue-500"
            (onClick)="acceptCookies()"
          ></p-button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal d'information avec design amélioré -->
<p-dialog
  [(visible)]="showInfo"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  [style]="{ width: '90%', maxWidth: '650px' }"
  [showHeader]="false"
  [closeOnEscape]="true"
  styleClass="rounded-xl overflow-hidden border-0 cookie-info-dialog"
>
  <div class="p-4">
    <!-- En-tête personnalisé avec dégradé -->
    <div class="bg-gradient-to-r from-blue-700 to-indigo-800 p-6 relative">
      <button
        class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors"
        (click)="showInfo = false"
      >
        <i class="pi pi-times"></i>
      </button>
      <h2 class="text-white text-xl font-semibold mb-1">Notre politique de confidentialité</h2>
      <p class="text-blue-100 text-sm">Nous respectons votre vie privée</p>
    </div>

    <!-- Contenu avec design amélioré -->
    <div class="p-6 bg-white space-y-6">
      <div class="flex items-start gap-4">
        <div
          class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center shrink-0 mt-1"
        >
          <i class="pi pi-shield text-blue-600"></i>
        </div>
        <div>
          <h3 class="text-gray-800 font-medium text-lg">Respect de votre vie privée</h3>
          <p class="text-gray-600 mt-1">
            Chez MyRocket, nous accordons une importance particulière au respect de votre vie
            privée. Notre approche se distingue par sa simplicité et sa transparence.
          </p>
        </div>
      </div>

      <div class="flex items-start gap-4">
        <div
          class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center shrink-0 mt-1"
        >
          <i class="pi pi-lock text-blue-600"></i>
        </div>
        <div>
          <h3 class="text-gray-800 font-medium text-lg">Un stockage minimal</h3>
          <p class="text-gray-600 mt-1">
            Notre site utilise uniquement un système d'authentification sécurisé qui stocke
            temporairement vos informations de connexion dans la mémoire locale de votre navigateur.
            Cette méthode vous évite de devoir vous identifier à chaque page et garantit la sécurité
            de vos données.
          </p>
        </div>
      </div>

      <div class="flex items-start gap-4">
        <div
          class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center shrink-0 mt-1"
        >
          <i class="pi pi-ban text-blue-600"></i>
        </div>
        <div>
          <h3 class="text-gray-800 font-medium text-lg">Ce que nous ne faisons pas</h3>
          <p class="text-gray-600 mt-1">
            À la différence de nombreux sites web, nous avons fait le choix de ne pas utiliser :
          </p>
          <ul class="mt-2 grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-1">
            <li class="flex items-center text-gray-600">
              <i class="pi pi-times-circle text-red-500 mr-2"></i>
              <span>Cookies publicitaires</span>
            </li>
            <li class="flex items-center text-gray-600">
              <i class="pi pi-times-circle text-red-500 mr-2"></i>
              <span>Analyse de comportement</span>
            </li>
            <li class="flex items-center text-gray-600">
              <i class="pi pi-times-circle text-red-500 mr-2"></i>
              <span>Profilage</span>
            </li>
            <li class="flex items-center text-gray-600">
              <i class="pi pi-times-circle text-red-500 mr-2"></i>
              <span>Partage de données</span>
            </li>
          </ul>
        </div>
      </div>

      <div class="flex items-start gap-4">
        <div
          class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center shrink-0 mt-1"
        >
          <i class="pi pi-clock text-blue-600"></i>
        </div>
        <div>
          <h3 class="text-gray-800 font-medium text-lg">Durée de conservation</h3>
          <p class="text-gray-600 mt-1">
            Les informations de session sont conservées uniquement pendant votre navigation active
            et expirent automatiquement après une période d'inactivité ou lors de votre déconnexion.
          </p>
        </div>
      </div>

      <div class="flex items-start gap-4">
        <div
          class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center shrink-0 mt-1"
        >
          <i class="pi pi-user text-blue-600"></i>
        </div>
        <div>
          <h3 class="text-gray-800 font-medium text-lg">Vos droits</h3>
          <p class="text-gray-600 mt-1">
            Conformément au Règlement Général sur la Protection des Données (RGPD), vous disposez
            d'un droit de contrôle total sur vos données. Si vous préférez ne pas utiliser notre
            système d'authentification automatique, vous pouvez le refuser, auquel cas vous devrez
            vous identifier à chaque visite.
          </p>
        </div>
      </div>

      <div class="flex items-start gap-4">
        <div
          class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center shrink-0 mt-1"
        >
          <i class="pi pi-check-circle text-blue-600"></i>
        </div>
        <div>
          <h3 class="text-gray-800 font-medium text-lg">Notre engagement</h3>
          <p class="text-gray-600 mt-1">
            Nous nous engageons à maintenir cette politique minimaliste et à vous informer de tout
            changement éventuel via cette bannière.
          </p>
        </div>
      </div>
    </div>

    <!-- Pied de modal avec dégradé -->
    <div
      class="bg-gradient-to-r from-gray-50 to-gray-100 p-4 border-t border-gray-200 flex justify-end gap-3"
    >
      <p-button
        label="Refuser"
        severity="secondary"
        [outlined]="true"
        [rounded]="true"
        (onClick)="rejectCookies()"
      ></p-button>
      <p-button
        label="Accepter"
        severity="primary"
        [rounded]="true"
        (onClick)="acceptCookies()"
      ></p-button>
    </div>
  </div>
</p-dialog>
